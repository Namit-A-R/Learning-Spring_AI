# ===================================================================
# APPLICATION
# ===================================================================
spring.application.name=springai 

# ===================================================================
# LOGGING
# ===================================================================
logging.pattern.console=%green(%d{HH:mm:ss.SSS}) %blue(%-5level) %red([%thread]) %yellow(%logger{15}) - %msg%n
logging.level.org.springframework.ai.chat.client.advisor=DEBUG

# ===================================================================
# SPRING AI - MODELS
# ===================================================================
spring.ai.openai.api-key=${OPENAI_API_KEY}
spring.ai.ollama.chat.options.model=llama3.2
spring.ai.ollama.management.enabled=true
spring.ai.chat.client.enabled=false

# ===================================================================
# SPRING AI - CHAT MEMORY (H2 Database)
# ===================================================================
spring.ai.chat.memory.repository.jdbc.initialize-schema=always
spring.ai.chat.memory.repository.jdbc.schema=classpath:/schemas/schema-ai-chat-h2.sql
spring.datasource.url=jdbc:h2:file:~/chatmemory;AUTO_SERVER=true
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=nandu
spring.datasource.password=1234
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# ===================================================================
# SPRING AI - VECTOR STORE (Qdrant)
# ===================================================================
spring.ai.vectorstore.qdrant.host=localhost
spring.ai.vectorstore.qdrant.port=6334
spring.ai.vectorstore.qdrant.grpc=true
spring.ai.vectorstore.qdrant.use-tls=false
spring.ai.vectorstore.qdrant.collection.name.ollama=ollama_collection
spring.ai.vectorstore.qdrant.collection.name.openai=openai_collection
spring.ai.vectorstore.qdrant.embedding-dimension.ollama=768
spring.ai.vectorstore.qdrant.embedding-dimension.openai=1536

# ===================================================================
# DOCKER COMPOSE
# ===================================================================
spring.docker.compose.stop.command=down

# ===================================================================
# MANUAL CONFIGURATION & EXCLUSIONS
# ===================================================================
spring.autoconfigure.exclude=\
org.springframework.ai.model.openai.autoconfigure.OpenAiEmbeddingAutoConfiguration,\
org.springframework.ai.model.ollama.autoconfigure.OllamaEmbeddingAutoConfiguration,\
org.springframework.ai.vectorstore.qdrant.autoconfigure.QdrantVectorStoreAutoConfiguration
